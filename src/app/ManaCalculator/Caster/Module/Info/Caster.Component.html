<br>
<div class="row d-flex ">
    <h3>Caster Registry</h3>
    <br>
    <div>
        <h4>Profile</h4>
        <form [formGroup]="CasterFormGroup.FormGroup">
            <label for="caster-name-input" class="form-label">Caster Name</label>
            <input formControlName="CasterName" [(ngModel)]="CasterFormGroup.CasterName"
                class="form-control" name="caster-name-input" id="caster-name-input" 
                type="text"/>

            <label for="caster-mana-input" class="form-label">Mana Points</label>
            <input formControlName="Mana" [(ngModel)]="CasterFormGroup.ManaPoints"
                class="form-control" name="caster-mana-input" id="caster-mana-input"
                type="number" min="0" />
                            
            <label for="caster-mind-input" class="form-label">Mind</label>
            <input formControlName="Mind" [(ngModel)]="CasterFormGroup.Mind"
                class="form-control" name="caster-mind-input" id="caster-mind-input"
                type="number" min="0" />

            <label for="caster-source-input" class="form-label">Source</label>
            <input formControlName="Source" [(ngModel)]="CasterFormGroup.Source"
                class="form-control" name="caster-source-input" id="caster-source-input"
                type="number" min="0" />
                            
            <label for="caster-name-input" class="form-label">Will</label>
            <input formControlName="Will" [(ngModel)]="CasterFormGroup.Will"
                class="form-control" name="caster-name-input" id="caster-name-input"
                type="number" min="0" />
            <br>
            <div class="btn-group" role="group">
                <button *ngIf="!CasterFormGroup.HasId" class="btn confirm-add" type="button" (click)="addCaster()">Add Caster</button>
                <button *ngIf="CasterFormGroup.HasId" class="btn confirm-add" type="button" (click)="updateCaster()">Update Caster</button>
                <button *ngIf="CasterFormGroup.HasId" class="btn confirm-add" type="button" (click)="resetCaster()">Clear Form</button>
            </div>
        </form>
        <br>
    </div>
    <hr>
    <div>
        <h4>Roster</h4>
        <p *ngIf="Casters.length() == 0">There are no casters.</p>
        <div *ngIf="Casters.length() > 0">
            <form>
                <select class="form-select" name="caster-roster-select" id="caster-roster-select">
                    <option *ngFor="let caster of Casters.getItems()" (value)="caster" >{{caster.Name}}</option>
                </select>
                <br>
                <button type="button" class="btn confirm-add" (click)="updateRosterSelection()">Select</button>
            </form>
            <br>
            <div *ngIf="RosterCaster">
                <table class="table table-striped info-desktop">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Mana Points</th>
                            <th>Mind</th>
                            <th>Source</th>
                            <th>Will</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{RosterCaster.Name}}</td>
                            <td>{{RosterCaster.ManaPointMax}}</td>
                            <td>
                                {{getValueForAffinity(RosterCaster, "Mind")}}
                            </td>
                            <td>
                                {{getValueForAffinity(RosterCaster, "Source")}}
                            </td>
                            <td>
                                {{getValueForAffinity(RosterCaster, "Will")}}
                            </td>
                            <td>
                                <div class="dropdown">
                                    <button class="btn confirm-remove dropdown-toggle" type="button" id="dropdownMenuButton-{{RosterCaster.Id}}" data-bs-toggle="dropdown" aria-expanded="false">
                                        Actions
                                    </button>
                                    <ul class="dropdown-menu" attr.aria-labelledby="dropdownMenuButton-{{RosterCaster.Id}}">
                                        <li><button type="button" class="btn btn-primary dropdown-item" (click)="removeCaster(RosterCaster)">Remove</button></li>
                                        <li *ngIf="!RosterCaster.IsEditable">
                                            <button type="button" class="btn btn-primary dropdown-item" (click)="editCaster(RosterCaster)">Edit</button>
                                        </li>
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table class="table table-striped info-mobile">
                    <tbody>
                        <tr>
                            <th>Name</th>
                            <td>{{RosterCaster.Name}}</td>
                        </tr>
                        <tr>
                            <th>Mana Points</th>
                            <td>{{RosterCaster.ManaPointMax}}</td>
                        </tr>
                        <tr>
                            <th>Mind</th>
                            <td>
                                {{getValueForAffinity(RosterCaster, "Mind")}}
                            </td>
                        </tr>
                        <tr>
                            <th>Source</th>
                            <td>
                                {{getValueForAffinity(RosterCaster, "Source")}}
                            </td>
                        </tr>
                        <tr>
                            <th>Will</th>
                            <td>
                                {{getValueForAffinity(RosterCaster, "Will")}}
                            </td>
                        </tr>
                        <tr>
                            <th>Action</th>
                            <td>
                                <div class="dropdown">
                                    <button class="btn confirm-remove dropdown-toggle" type="button" id="dropdownMenuButton-{{RosterCaster.Id}}" data-bs-toggle="dropdown" aria-expanded="false">
                                        Actions
                                    </button>
                                    <ul class="dropdown-menu" attr.aria-labelledby="dropdownMenuButton-{{RosterCaster.Id}}">
                                        <li><button type="button" class="btn btn-primary dropdown-item" (click)="removeCaster(RosterCaster)">Remove</button></li>
                                        <li *ngIf="!RosterCaster.IsEditable">
                                            <button type="button" class="btn btn-primary dropdown-item" (click)="editCaster(RosterCaster)">Edit</button>
                                        </li>
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>
<br>
<br>
<br>
<br>
<br>